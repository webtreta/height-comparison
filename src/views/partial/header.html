<div
  class="md:fixed md:top-0 fixed  top-0 left-0 backdrop-blur-xl py-2 z-50 w-full md:backdrop-blur-xl md:z-50  md:mb-20"
  x-data="{
    menuOpen: false,
    isToolsOpen: false,
    isToken: false,
    base64Image: '',
    isProfileMenuOpen: false,
    platform: '',
    deviceInfo: { isMobile: false, platform: '', browser: '' },

    init() {
      this.detectDevice();
      this.checkAuth();
      this.setActivePath();
    },

    setActivePath() {
      this.currentPath = window.location.pathname;
    },

    isActivePath(path) {
      return this.currentPath === path ? 'text-white' : 'text-[#938FAA]';
    },

    checkAuth() {
      const token = localStorage.getItem('token');
      const userData = localStorage.getItem('user');

      this.isToken = !!token;
      if (userData) {
        const parsedData = JSON.parse(userData);
        this.base64Image = parsedData.picture ? 'data:image/png;base64,' + parsedData.picture : '';
      }
    },

    handleLogout() {
      localStorage.removeItem('token');
      localStorage.removeItem('uid');
      localStorage.removeItem('islogin');
      localStorage.removeItem('user');
      this.isToken = false;
      window.location.href = '/';
    },

    detectDevice() {
      const userAgent = navigator.userAgent || navigator.vendor || window.opera;
      this.deviceInfo = {
        isMobile: /iPhone|iPad|iPod|Android/.test(userAgent),
        platform: /Windows/.test(userAgent) ? 'windows' :
                  /Mac/.test(userAgent) ? 'mac' :
                  /iPhone|iPad|iPod/.test(userAgent) ? 'ios' :
                  /Android/.test(userAgent) ? 'android' : '',
        browser: /Chrome/.test(userAgent) ? 'Chrome' :
                 /Safari/.test(userAgent) ? 'Safari' : 'Unknown'
      };
      this.platform = this.deviceInfo.platform;
    }
  }" x-init="init()" @click.away="isProfileMenuOpen = false">
  <header class="flex items-center w-full justify-between px-6 lg:px-10 py-2 ">
    <!-- Logo -->
    <div class="flex flex-row items-center max-sm:w-full justify-between gap-x-4 md:col-span-4">
      <a href="/" class="block md:mx-auto mx-0">
        <img src="/images/logo.webp" width="120px" height="120px"
          class="md:mt-3 mx-auto sm:mt-0 sm:ml-3 w-[120px] md:w-[120px] sm:w-[150px] lg:w-[160px]"
          alt="Mt-Auto-Clicker logo" aria-label="Mt-Auto-Clicker logo">
      </a>

      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center gap-3 ">

        <button @click="menuOpen = !menuOpen" class="text-white" aria-label="hamburger">
          <svg width="30" height="30" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.75 35H61.25" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M8.75 17.5H43.75M26.25 52.5H61.25" stroke="#71EE9E" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
        <div class=" md:flex items-center gap-4">
          <template x-if="isToken">
            <div class="relative">
              <div class="flex items-center gap-2">
                <img :src="base64Image || '/images/profile-image.png'" @click="isProfileMenuOpen = !isProfileMenuOpen"
                  class="cursor-pointer w-9 h-9 object-cover rounded-full" alt="Profile Photo"
                  aria-label="Profile Photo">
                <!-- <button @click="isProfileMenuOpen = !isProfileMenuOpen" class="p-1 hover:bg-gray-800 rounded-full">
                  <svg width="28px" height="28px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5zm0 14a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5zM13.75 12a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0z" fill="#938FAA"></path></g></svg>
                </button> -->
              </div>

              <!-- Profile Dropdown -->
              <div x-show="isProfileMenuOpen"
                class="absolute right-0 mt-2 w-48 bg-[#0A0419] rounded-lg shadow-lg border border-gray-800">
                <a href="/dashboard" class="flex items-center px-4 py-2 text-[#938FAA] hover:bg-gray-800">
                  <img src="/images/user-icon.svg" class="w-5 h-5 mr-2" alt="user-icon" aria-label="user-icon">
                  Dashboard
                </a>
                <a href="/dashboard/account-settings"
                  class="flex items-center px-4 py-2 text-[#938FAA] hover:bg-gray-800">
                  <img src="/images/setting-icon.svg" class="w-5 h-5 mr-2" alt="setting icon" aria-label="setting icon">
                  Account Settings
                </a>
                <button @click="handleLogout"
                  class="flex items-center w-full px-4 py-2 text-[#938FAA] hover:bg-gray-800">
                  <img src="/images/log-out-icon.svg" class="w-5 h-5 mr-2" alt="logout icon" aria-label="logout icon">
                  Log Out
                </button>
              </div>
            </div>
          </template>

          <template x-if="!isToken">
            <a href="/login"
              class="inline-flex items-center font-semibold text-base w-max border border-[#71EE9E] text-[#71EE9E] rounded-xl px-2 py-2">
              Login
              <svg class="ml-4" width="19" height="23" viewBox="0 0 19 23" fill="none" aria-label="login icon">
                <path
                  d="M16.2306 0.96875H8.61336C7.90651 0.969743 7.22883 1.33881 6.72902 1.99497C6.2292 2.65113 5.94807 3.5408 5.94732 4.46875V10.9688H9.21181C10.8667 10.9688 11.8056 9.07355 10.8029 7.75699L10.741 7.67562C10.6041 7.48656 10.529 7.23481 10.5315 6.97405C10.5341 6.71329 10.6141 6.46415 10.7546 6.27975C10.895 6.09535 11.0848 5.99027 11.2834 5.98694C11.4821 5.9836 11.6738 6.08226 11.8178 6.26188L15.6265 11.2619C15.7692 11.4494 15.8494 11.7036 15.8494 11.9688C15.8494 12.2339 15.7692 12.4881 15.6265 12.6756L11.8178 17.6756C11.6738 17.8552 11.4821 17.9539 11.2834 17.9506C11.0848 17.9472 10.895 17.8422 10.7546 17.6578C10.6141 17.4734 10.5341 17.2242 10.5315 16.9634C10.529 16.7027 10.6041 16.4509 10.741 16.2619L10.8029 16.1805C11.8056 14.864 10.8667 12.9688 9.21181 12.9688H5.94732V19.4688C5.94732 21.4719 7.55599 22.9688 8.99422 22.9688H16.2306C16.9375 22.9678 17.6151 22.5987 18.115 21.9425C18.6148 21.2864 18.8959 20.3967 18.8967 19.4688V4.46875C18.8959 3.5408 18.6148 2.65113 18.115 1.99497C17.6151 1.33881 16.9375 0.969743 16.2306 0.96875Z"
                  fill="#71EE9E" />
              </svg>
            </a>
          </template>
        </div>
      </div>
    </div>

    <!-- Desktop Navigation -->
    <!-- Navigation Bar -->
    <nav class="hidden mt-3 md:flex space-x-4 text-md lg:space-x-6">
      <a href="/" :class="isActivePath('/')">Home</a>
      <a :href="`/download/${platform}`" :class="isActivePath(`/download/${platform}/`)">Download</a>
      <a href="/mt-tokens" :class="isActivePath('/mt-tokens/')">MT Tokens</a>
      <a href="/pricing" :class="isActivePath('/pricing/')">Pricing</a>

      <!-- Tools Dropdown -->
      <div class="relative inline-block text-left" @mouseenter="isProfileMenuOpen = false">
        <!-- Dropdown Trigger Button -->
        <a href="/tools">
          <button id="toolsDropdownButton"
            class="flex  items-center font-medium text-[#938FAA] rounded-lg shadow-sm outline-none">
            Tools
            <!-- Down Arrow (initially hidden) -->
            <svg id="chevronDown" class="w-4 h-4 ml-1 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
              fill="currentColor">
              <path fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
            <!-- Right Arrow (initially shown) -->
            <svg id="chevronRight" class="w-4 h-4 ml-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
              fill="currentColor">
              <path fill-rule="evenodd"
                d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                clip-rule="evenodd" />
            </svg>
          </button>
        </a>
      </div>
    </nav>

    <!-- Dropdown Menu -->
    <div id="toolsDropdownMenu"
      class="absolute max-sm:hidden bg-[#05030E] top-20 ml-[8%] border-x border-b border-[#938FAA] w-[80%] origin-top-right rounded-b-xl shadow-lg ring-1 ring-black ring-opacity-5 hidden">
      <div class="flex flex-wrap py-4 justify-center md:gap-[2rem] gap-[1.5rem] lg:gap-[2.2rem] w-[100%]">
        <!-- Mouse Tester -->
        <a href="/mouse-tester"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <svg width="24" height="28" viewBox="0 0 24 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.9375 0.129612C12.0027 0.0395602 11.0641 -0.00361893 10.125 0.000237106C9.01125 0.00273711 8.05688 0.292112 7.26188 0.868362C6.47813 1.43461 5.9175 2.22961 5.51813 3.13336C4.79438 4.77024 4.53937 6.90211 4.50562 9.14461L12.9375 11.0196V0.129612ZM3.95625 10.9427L3.33938 11.2502C2.56111 11.6398 1.90667 12.2383 1.44934 12.9788C0.992008 13.7193 0.749855 14.5724 0.75 15.4427V20.2727C0.75 25.6109 4.9125 30.0002 10.125 30.0002H13.875C19.0875 30.0002 23.25 25.609 23.25 20.2727V15.2309L6.375 11.4809V11.4865L6.39 12.1484C6.40312 12.7109 6.43312 13.489 6.48937 14.3515C6.6075 16.1084 6.83812 18.1109 7.26375 19.3915C7.30814 19.5095 7.32826 19.6353 7.3229 19.7613C7.31755 19.8873 7.28683 20.0109 7.23258 20.1248C7.17833 20.2386 7.10168 20.3403 7.00719 20.4239C6.91271 20.5074 6.80235 20.571 6.68271 20.6109C6.56308 20.6508 6.43662 20.6661 6.31092 20.656C6.18522 20.6458 6.06285 20.6104 5.95115 20.5519C5.83945 20.4934 5.7407 20.4129 5.66082 20.3153C5.58093 20.2177 5.52156 20.105 5.48625 19.984C4.97438 18.4521 4.73625 16.234 4.62 14.4771C4.54924 13.4047 4.50922 12.3305 4.5 11.2559C4.5 11.1934 4.50625 11.1309 4.51875 11.0684L3.95625 10.9427ZM23.25 13.3127V9.72586C23.25 7.60711 22.74 5.89336 21.8475 4.52836C20.9587 3.16711 19.7288 2.21274 18.3806 1.54711C17.2479 1.00647 16.0478 0.619907 14.8125 0.397737V11.4359L23.25 13.3127Z"
              fill="white" />
          </svg>
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Mouse Tester</span>
        </a>


        <!-- Typing Test -->
        <a href="/typing-test"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_2916_14752)">
              <path
                d="M26.6292 5.43751H27.0864C27.695 5.43626 28.2979 5.5552 28.8604 5.78752C29.423 6.01983 29.9341 6.36093 30.3645 6.79126C30.7949 7.22159 31.1361 7.73267 31.3685 8.29518C31.6009 8.85769 31.7199 9.46055 31.7188 10.0692V13.4467C31.7188 16.0133 30.8204 18.0791 28.2545 18.0791M6.76813 18.0791C4.20147 18.0791 3.28126 16.0133 3.28126 13.4467V10.0699C3.28011 9.46128 3.39914 8.85842 3.63154 8.29591C3.86394 7.7334 4.20513 7.22232 4.63553 6.79199C5.06593 6.36166 5.57706 6.02056 6.13961 5.78825C6.70215 5.55593 7.30503 5.43699 7.91365 5.43824H8.35918"
                stroke="white" strokeLinecap="round" strokeLinejoin="round" />
              <path
                d="M30.3037 17.4607V26.4163C30.3049 26.9963 30.1916 27.5708 29.9702 28.1068C29.7489 28.6429 29.4238 29.1299 29.0137 29.54C28.6036 29.9501 28.1166 30.2752 27.5805 30.4965C27.0445 30.7179 26.47 30.8312 25.89 30.83H9.10897C8.52901 30.8312 7.95452 30.7179 7.41846 30.4965C6.88241 30.2752 6.39536 29.9501 5.98526 29.54C5.57517 29.1299 5.25011 28.6429 5.02875 28.1068C4.80738 27.5708 4.69407 26.9963 4.69532 26.4163V17.4891M26.574 10.7035V4.16943H8.42501V10.7035M26.574 10.7035H8.42501M26.574 10.7035C26.8838 10.6958 27.1784 10.5673 27.3948 10.3455C27.6112 10.1236 27.7324 9.82598 27.7324 9.51605C27.7324 9.20612 27.6112 8.90846 27.3948 8.68661C27.1784 8.46475 26.8838 8.33628 26.574 8.3286M8.42501 10.7035C8.10998 10.7035 7.80786 10.5791 7.5851 10.3563C7.36234 10.1336 7.2372 9.83144 7.2372 9.51641C7.2372 9.20138 7.36234 8.89926 7.5851 8.6765C7.80786 8.45374 8.10998 8.3286 8.42501 8.3286"
                stroke="white" strokeLinecap="round" strokeLinejoin="round" />
              <path
                d="M16.5005 21.6002H18.4985V23.6441H16.5005V21.6002ZM22.8771 21.6002H24.875V23.6441H22.8771V21.6002ZM10.1233 21.6002H12.1212V23.6441H10.1233V21.6002ZM13.3119 21.6002H15.3098V23.6441H13.3119V21.6002ZM19.6892 21.6002H21.6871V23.6441H19.6892V21.6002ZM14.9059 18.0762H16.9038V20.12H14.9059V18.0762ZM21.2832 18.0762H23.2811V20.12H21.2832V18.0762ZM8.5293 18.0762H10.5272V20.12H8.5293V18.0762ZM11.7179 18.0762H13.7159V20.12H11.7179V18.0762ZM18.0945 18.0762H20.0924V20.12H18.0945V18.0762ZM24.4718 18.0762H26.4697V20.12H24.4718V18.0762ZM13.0487 25.4524H21.9496V26.9363H13.0487V25.4524Z"
                stroke="white" strokeLinecap="round" strokeLinejoin="round" />
              <path
                d="M10.8983 5.96404V8.93904M12.8693 5.96404V8.93904M10.8983 7.45154H12.8693M16.3715 8.93904H14.884V5.96404H16.3715M14.884 7.45154H15.8508M18.3861 8.93904V5.96404H19.353C19.4871 5.96043 19.6206 5.98372 19.7455 6.03253C19.8704 6.08135 19.9843 6.1547 20.0804 6.24826C20.1765 6.34182 20.2529 6.45369 20.3051 6.57726C20.3573 6.70084 20.3841 6.83361 20.3841 6.96774C20.3841 7.10187 20.3573 7.23465 20.3051 7.35822C20.2529 7.48179 20.1765 7.59366 20.0804 7.68722C19.9843 7.78078 19.8704 7.85413 19.7455 7.90295C19.6206 7.95176 19.4871 7.97505 19.353 7.97144H18.3861M19.3902 7.93498L20.3571 8.93904M28.2255 16.7025V25.2702C28.2259 25.479 28.185 25.6859 28.1053 25.8789C28.0256 26.072 27.9085 26.2474 27.7608 26.395C27.6131 26.5427 27.4377 26.6598 27.2447 26.7396C27.0517 26.8193 26.8441 26.8602 26.6352 26.8598C26.6241 27.0541 26.5732 27.2441 26.4858 27.418C26.3984 27.5919 26.2763 27.7461 26.127 27.871C25.9777 27.9959 25.8044 28.0888 25.6178 28.1442C25.4312 28.1995 25.2352 28.216 25.042 28.1927H9.95698C9.76374 28.216 9.56777 28.1995 9.38116 28.1442C9.19454 28.0888 9.02125 27.9959 8.87196 27.871C8.72267 27.7461 8.60056 27.5919 8.51315 27.418C8.42574 27.2441 8.3749 27.0541 8.36375 26.8598C8.15489 26.8602 7.94802 26.8193 7.75499 26.7396C7.56196 26.6598 7.38657 26.5427 7.23889 26.395C7.09121 26.2474 6.97413 26.072 6.89438 25.8789C6.81464 25.6859 6.77378 25.479 6.77417 25.2702V16.7039M6.77344 16.7039L17.4995 13.8303L28.2255 16.7039M22.1297 7.95321C22.1261 8.08488 22.1489 8.21593 22.1969 8.33862C22.2448 8.46132 22.3168 8.57317 22.4087 8.66756C22.5005 8.76196 22.6104 8.83699 22.7317 8.88822C22.8531 8.93946 22.9834 8.96585 23.1152 8.96585C23.2469 8.96585 23.3773 8.93946 23.4986 8.88822C23.6199 8.83699 23.7298 8.76196 23.8217 8.66756C23.9135 8.57317 23.9855 8.46132 24.0334 8.33862C24.0814 8.21593 24.1042 8.08488 24.1006 7.95321V6.94988C24.1013 6.81783 24.0758 6.68696 24.0256 6.56484C23.9754 6.44272 23.9014 6.33176 23.808 6.23839C23.7147 6.14502 23.6037 6.07108 23.4816 6.02087C23.3595 5.97065 23.2286 5.94514 23.0966 5.94581C22.9666 5.94613 22.838 5.97257 22.7184 6.02356C22.5989 6.07456 22.4908 6.14907 22.4006 6.24266C22.3104 6.33626 22.2399 6.44703 22.1934 6.56839C22.1469 6.68976 22.1252 6.81924 22.1297 6.94915V7.95321Z"
                stroke="white" strokeLinecap="round" strokeLinejoin="round" />
            </g>
            <defs>
              <clipPath id="clip0_2916_14752">
                <rect width="35" height="35" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Typing Test</span>
        </a>

        <!-- Text to Speech -->
        <a href="/text-to-speech"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <svg width="28" height="31" viewBox="0 0 30 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M0 31.9999V1.99992H13.8717L12.205 3.66659H1.66667V30.3333H20V26.1666H21.6667V31.9999H0ZM5.83333 26.1666V24.4999H15.8333V26.1666H5.83333ZM5.83333 21.5499V19.8833H12.5V21.5499H5.83333ZM19.1667 20.2999L13.6867 14.8199H9.16667V8.15326H13.6867L19.1667 2.67326V20.2999ZM22.5 16.3716V6.60326C23.3511 7.16437 23.9806 7.89715 24.3883 8.80159C24.7961 9.70604 25 10.601 25 11.4866C25 12.3721 24.7906 13.2677 24.3717 14.1733C23.9528 15.0766 23.3289 15.8094 22.5 16.3716ZM22.5 22.9299V21.1599C24.21 20.3377 25.61 19.0399 26.7 17.2666C27.7889 15.4955 28.3333 13.5688 28.3333 11.4866C28.3333 9.40437 27.7889 7.4777 26.7 5.70659C25.6111 3.93548 24.2111 2.63826 22.5 1.81492V0.0449219C24.6622 0.901589 26.4528 2.38381 27.8717 4.49159C29.2906 6.59937 30 8.93104 30 11.4866C30 14.0421 29.2906 16.3738 27.8717 18.4816C26.4528 20.5894 24.6622 22.0722 22.5 22.9299Z"
              fill="white" />
          </svg>
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Text to Speech</span>
        </a>

        <!-- Speech to Text -->
        <a href="/speech-to-text"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <svg width="30" height="31" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M21.506 12.4753C20.8193 12.4753 20.2305 12.2353 19.7393 11.7553C19.2482 11.2753 19.0016 10.682 18.9993 9.97533V2.66699C18.9993 1.9581 19.2438 1.36421 19.7327 0.885326C20.2238 0.406437 20.8127 0.166992 21.4993 0.166992C22.2093 0.166992 22.8038 0.406437 23.2827 0.885326C23.7616 1.36421 24.0005 1.9581 23.9993 2.66699V9.97533C23.9993 10.6831 23.7605 11.2764 23.2827 11.7553C22.8049 12.2342 22.2127 12.4737 21.506 12.4737M0.666016 31.0003V1.00033H14.8327V2.66699H2.33268V29.3337H20.666V25.5503H22.3327V31.0003H0.666016ZM6.49935 25.5503V23.5003H16.4993V25.5503H6.49935ZM6.49935 20.5503V18.8837H13.166V20.5503H6.49935ZM22.3327 21.8337H20.666V17.6287C18.6127 17.432 16.8493 16.6164 15.376 15.182C13.9027 13.7464 13.166 12.0109 13.166 9.97533H14.8327C14.8327 11.6931 15.4982 13.1264 16.8293 14.2753C18.1605 15.4242 19.716 15.9992 21.496 16.0003C23.3071 16.0003 24.8721 15.4253 26.191 14.2753C27.5077 13.1276 28.166 11.6948 28.166 9.97699H29.8327C29.8327 12.0348 29.1032 13.7753 27.6443 15.1987C26.1855 16.622 24.4149 17.432 22.3327 17.6287V21.8337Z"
              fill="white" />
          </svg>
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Speech To Text</span>
        </a>

        <!-- Reaction Time Test -->
        <a href="/reaction-time-test"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <svg width="30" height="36" viewBox="0 0 30 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15 5.25C12.0333 5.25 9.13319 6.12974 6.66646 7.77796C4.19972 9.42618 2.27713 11.7689 1.14181 14.5098C0.00649929 17.2506 -0.290551 20.2666 0.288228 23.1764C0.867006 26.0861 2.29562 28.7588 4.39341 30.8566C6.4912 32.9544 9.16394 34.383 12.0737 34.9618C14.9834 35.5406 17.9994 35.2435 20.7403 34.1082C23.4812 32.9729 25.8238 31.0503 27.4721 28.5836C29.1203 26.1168 30 23.2167 30 20.25C29.9955 16.2732 28.4137 12.4605 25.6016 9.64843C22.7895 6.83636 18.9769 5.25455 15 5.25ZM15 32.75C12.5277 32.75 10.111 32.0169 8.05538 30.6434C5.99977 29.2699 4.39761 27.3176 3.45151 25.0336C2.50542 22.7495 2.25788 20.2361 2.74019 17.8114C3.22251 15.3866 4.41302 13.1593 6.16117 11.4112C7.90933 9.66301 10.1366 8.4725 12.5614 7.99019C14.9861 7.50787 17.4995 7.75541 19.7836 8.70151C22.0676 9.64761 24.0199 11.2498 25.3934 13.3054C26.7669 15.361 27.5 17.7777 27.5 20.25C27.4963 23.5641 26.1781 26.7413 23.8347 29.0847C21.4913 31.4281 18.3141 32.7463 15 32.75ZM22.1344 13.1156C22.2506 13.2317 22.3428 13.3696 22.4057 13.5213C22.4686 13.6731 22.501 13.8357 22.501 14C22.501 14.1643 22.4686 14.3269 22.4057 14.4787C22.3428 14.6304 22.2506 14.7683 22.1344 14.8844L15.8844 21.1344C15.7683 21.2505 15.6304 21.3426 15.4786 21.4055C15.3269 21.4684 15.1643 21.5007 15 21.5007C14.8358 21.5007 14.6731 21.4684 14.5214 21.4055C14.3697 21.3426 14.2318 21.2505 14.1156 21.1344C13.9995 21.0182 13.9074 20.8804 13.8445 20.7286C13.7817 20.5769 13.7493 20.4143 13.7493 20.25C13.7493 20.0858 13.7817 19.9231 13.8445 19.7714C13.9074 19.6196 13.9995 19.4818 14.1156 19.3656L20.3656 13.1156C20.4817 12.9994 20.6196 12.9072 20.7713 12.8443C20.9231 12.7814 21.0857 12.749 21.25 12.749C21.4143 12.749 21.5769 12.7814 21.7287 12.8443C21.8804 12.9072 22.0183 12.9994 22.1344 13.1156ZM10 1.5C10 1.16848 10.1317 0.850537 10.3661 0.616117C10.6005 0.381696 10.9185 0.25 11.25 0.25H18.75C19.0815 0.25 19.3995 0.381696 19.6339 0.616117C19.8683 0.850537 20 1.16848 20 1.5C20 1.83152 19.8683 2.14946 19.6339 2.38388C19.3995 2.6183 19.0815 2.75 18.75 2.75H11.25C10.9185 2.75 10.6005 2.6183 10.3661 2.38388C10.1317 2.14946 10 1.83152 10 1.5Z"
              fill="white" />
          </svg>
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Reaction Time Test</span>
        </a>

        <!-- Gamepad Tester -->
        <a href="/gamepad-tester"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M32.9329 28.667C31.3329 29.467 29.1996 28.9337 28.1329 27.3337L25.1996 23.6003H10.7996L7.86628 27.3337C6.53294 29.2003 4.13294 29.467 2.26628 28.1337C0.932943 27.067 0.399609 25.467 0.666276 24.1337L2.53294 14.267C3.06628 11.067 5.99961 8.66699 9.19961 8.66699H16.6663V4.66699C16.6663 2.53366 18.2663 0.666992 20.3996 0.666992H28.6663C29.4663 0.666992 29.9996 1.20033 29.9996 2.00033C29.9996 2.80033 29.4663 3.33366 28.6663 3.33366H20.6663C19.8663 3.33366 19.3329 3.86699 19.3329 4.40033V8.66699H26.7996C29.9996 8.66699 32.9329 11.067 33.4663 14.267L35.3329 24.1337C35.5996 26.0003 34.7996 27.867 32.9329 28.667ZM13.9996 15.3337C13.9996 13.2003 12.1329 11.3337 9.99961 11.3337C7.86628 11.3337 5.99961 13.2003 5.99961 15.3337C5.99961 17.467 7.86628 19.3337 9.99961 19.3337C12.1329 19.3337 13.9996 17.467 13.9996 15.3337ZM29.9996 15.3337C29.9996 14.5337 29.4663 14.0003 28.6663 14.0003H27.3329V12.667C27.3329 11.867 26.7996 11.3337 25.9996 11.3337C25.1996 11.3337 24.6663 11.867 24.6663 12.667V14.0003H23.3329C22.5329 14.0003 21.9996 14.5337 21.9996 15.3337C21.9996 16.1337 22.5329 16.667 23.3329 16.667H24.6663V18.0003C24.6663 18.8003 25.1996 19.3337 25.9996 19.3337C26.7996 19.3337 27.3329 18.8003 27.3329 18.0003V16.667H28.6663C29.4663 16.667 29.9996 16.1337 29.9996 15.3337Z"
              fill="white" />
          </svg>
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Gamepad Tester</span>
        </a>

        <!-- Keyboard Tester -->
        <a href="/keyboard-tester"
          class="flex items-center justify-center gap-3 rounded-lg bg-opacity-5 px-4 py-2 text-sm text-white"
          style="background: #1b1635">
          <img width="40" height="40" src="/images/keyboard-tester-icon.svg" alt="Keyboard Tester Icon">
          <span class="text-white font-bold text-md tracking-[2px] leading-8">Keyboard Tester</span>
        </a>
      </div>
    </div>

    <!--  -->
    <!-- User Authentication Section -->
    <div class="hidden md:flex items-center gap-4">
      <template x-if="isToken">
        <div class="relative">
          <div class="flex items-center gap-2">
            <img :src="base64Image || '/images/profile-image.png'" @click="isProfileMenuOpen = !isProfileMenuOpen"
              class="w-9 h-9 object-cover rounded-full cursor-pointer" alt="Profile photo" aria-label="Profile photo">
            <!-- <button aria-label="Profile Menu Open button" @click="isProfileMenuOpen = !isProfileMenuOpen" class="p-1 hover:bg-gray-800 rounded-full">
              <svg aria-label="profile menu option button icon" width="28px" height="28px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5zm0 14a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5zM13.75 12a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0z" fill="#938FAA"></path></g></svg>
            </button> -->
          </div>

          <!-- Profile Dropdown -->
          <div x-show="isProfileMenuOpen"
            class="absolute right-0 mt-2 w-48 bg-[#0A0419] rounded-lg shadow-lg border border-gray-800">
            <a href="/dashboard" class="flex items-center px-4 py-2 text-[#938FAA] hover:bg-gray-800">
              <img src="/images/user-icon.svg" class="w-5 h-5 mr-2" alt="user-icon" aria-label="user-icon"> Dashboard
            </a>
            <a href="/dashboard/account-settings" class="flex items-center px-4 py-2 text-[#938FAA] hover:bg-gray-800">
              <img src="/images/setting-icon.svg" class="w-5 h-5 mr-2" alt="setting-icon" aria-label="setting-icon">
              Account Settings
            </a>
            <button @click="handleLogout" class="flex items-center w-full px-4 py-2 text-[#938FAA] hover:bg-gray-800">
              <img src="/images/log-out-icon.svg" class="w-5 h-5 mr-2" alt="logout-icon" aria-label="logout-icon"> Log
              Out
            </button>
          </div>
        </div>
      </template>

      <template x-if="!isToken">
        <a href="/login"
          class="inline-flex items-center font-semibold text-base w-max border border-[#71EE9E] text-[#71EE9E] rounded-xl px-4 py-2">
          Login
          <svg aria-label="login-icon" class="ml-4" width="19" height="23" viewBox="0 0 19 23" fill="none">
            <path
              d="M16.2306 0.96875H8.61336C7.90651 0.969743 7.22883 1.33881 6.72902 1.99497C6.2292 2.65113 5.94807 3.5408 5.94732 4.46875V10.9688H9.21181C10.8667 10.9688 11.8056 9.07355 10.8029 7.75699L10.741 7.67562C10.6041 7.48656 10.529 7.23481 10.5315 6.97405C10.5341 6.71329 10.6141 6.46415 10.7546 6.27975C10.895 6.09535 11.0848 5.99027 11.2834 5.98694C11.4821 5.9836 11.6738 6.08226 11.8178 6.26188L15.6265 11.2619C15.7692 11.4494 15.8494 11.7036 15.8494 11.9688C15.8494 12.2339 15.7692 12.4881 15.6265 12.6756L11.8178 17.6756C11.6738 17.8552 11.4821 17.9539 11.2834 17.9506C11.0848 17.9472 10.895 17.8422 10.7546 17.6578C10.6141 17.4734 10.5341 17.2242 10.5315 16.9634C10.529 16.7027 10.6041 16.4509 10.741 16.2619L10.8029 16.1805C11.8056 14.864 10.8667 12.9688 9.21181 12.9688H5.94732V19.4688C5.94732 21.4719 7.55599 22.9688 8.99422 22.9688H16.2306C16.9375 22.9678 17.6151 22.5987 18.115 21.9425C18.6148 21.2864 18.8959 20.3967 18.8967 19.4688V4.46875C18.8959 3.5408 18.6148 2.65113 18.115 1.99497C17.6151 1.33881 16.9375 0.969743 16.2306 0.96875Z"
              fill="#71EE9E" />
          </svg>
        </a>
      </template>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div x-show="menuOpen" class="md:hidden  fixed top-0 left-0 inset-0 bg-black bg-opacity-50 z-40"
    @click="menuOpen = false" @click.away="menuOpen = false" >
    <div class="relative w-[90%] mx-auto mt-24 bg-[#05030E] border-2 border-[#938FAA] rounded-lg" @click.stop>
      <div class="py-4 px-6">
        <div class="flex flex-col gap-4">
          <a href="/" :class="isActivePath('/') + ' py-2 border-b border-white'">Home</a>
          <a :href="`/download/${platform}/`"
            :class="isActivePath('/download/' + platform) + ' py-2 border-b border-white'">Download</a>
          <a href="/mt-tokens" :class="isActivePath('/mt-tokens') + ' py-2 border-b border-white'">MT Tokens</a>
          <a href="/pricing" :class="isActivePath('/pricing') + ' py-2 border-b border-white'">Pricing</a>
          <div class="relative">
            <button
              id="mobileToolsButton"
              class="w-full text-left text-[#938FAA] py-2 border-b border-white flex items-center justify-between"
            >
              Tools
              <svg
                id="mobileChevronDown"
                class="w-5 h-5"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>

            <div
              id="mobileToolsMenu"
              class="hidden mt-2 text-center rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 w-full"
            >
              <div class="flex flex-col gap-4 p-4">
                <a
                  href="/keyboard-tester"
                  :class="isActivePath('/keyboard-tester/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Keyboard Tester
                </a>
                <a
                  href="/mouse-tester"
                  :class="isActivePath('/mouse-tester/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Mouse Tester
                </a>

                <a
                  href="/typing-test"
                  :class="isActivePath('/typing-test/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Typing Test
                </a>
                <a
                  href="/reaction-time-test"
                  :class="isActivePath('/reaction-time-test/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Reaction Time Test
                </a>
                <a
                  href="/text-to-speech"
                  :class="isActivePath('/text-to-speech/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Text To Speech
                </a>
                <a
                  href="/speech-to-text"
                  :class="isActivePath('/speech-to-test/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Speech To Text
                </a>
                <a
                  href="/gamepad-tester"
                  :class="isActivePath('/gamepad-tester/') + ' text-sm font-bold text-left py-2 border-b border-white'"
                >
                  Gamepad Tester
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- JavaScript for dropdown functionality -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const mobileToolsButton = document.getElementById('mobileToolsButton');
      const mobileToolsMenu = document.getElementById('mobileToolsMenu');
      let isOpen = false;

      // Toggle dropdown on click
      mobileToolsButton.addEventListener('click', function() {
        isOpen = !isOpen;

        if (isOpen) {
          mobileToolsMenu.classList.remove('hidden');
        } else {
          mobileToolsMenu.classList.add('hidden');
        }
      });
    });
    document.addEventListener('DOMContentLoaded', function () {
      const dropdownButton = document.getElementById('toolsDropdownButton');
      const dropdownMenu = document.getElementById('toolsDropdownMenu');
      const chevronDown = document.getElementById('chevronDown');
      const chevronRight = document.getElementById('chevronRight');

      // Function to show dropdown
      function showDropdown() {
        dropdownMenu.classList.remove('hidden');
        chevronDown.classList.remove('hidden');
        chevronRight.classList.add('hidden');
      }

      // Function to hide dropdown
      function hideDropdown() {
        dropdownMenu.classList.add('hidden');
        chevronDown.classList.add('hidden');
        chevronRight.classList.remove('hidden');
      }

      // Show dropdown on mouseover
      dropdownButton.addEventListener('mouseenter', showDropdown);

      // Hide dropdown when mouse leaves the dropdown menu
      dropdownMenu.addEventListener('mouseleave', hideDropdown);

      // Optional: Set active path classes based on current URL
      function setActivePath() {
        const path = window.location.pathname;
        const links = document.querySelectorAll('nav a');

        links.forEach(link => {
          if (link.getAttribute('href') === path) {
            link.classList.add('text-white');
          }
        });
      }

      setActivePath();
    });
  </script>
</div>
